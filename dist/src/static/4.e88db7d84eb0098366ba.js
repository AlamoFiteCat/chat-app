(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{CgF7:function(t,e,s){"use strict";s.r(e),s.d(e,"ChatModule",function(){return S});var o=s("ofXK"),i=s("tyNb"),r=s("3Pt+"),c=s("fXoL"),n=s("sjK5"),a=s("MutI"),b=s("kmnG"),u=s("qFsG"),h=s("bTqV");const l=["chatBox"];function m(t,e){if(1&t&&(c.Sb(0,"mat-list-item"),c.yc(1),c.Rb()),2&t){const t=e.$implicit;c.Bb(1),c.zc(null==t?null:t.username)}}function p(t,e){if(1&t&&(c.Sb(0,"div",12),c.Sb(1,"h5",13),c.yc(2),c.Rb(),c.Sb(3,"div",14),c.yc(4),c.Rb(),c.Rb()),2&t){const t=e.$implicit;c.Bb(2),c.zc(null==t?null:t.user),c.Bb(2),c.Ac(" ",null==t?null:t.content," ")}}const g=[{path:"",component:(()=>{class t{constructor(t,e){this.chat=t,this.router=e,this.chatForm=new r.f({inputMessage:new r.d(null)})}ngOnInit(){this.roomSubscription=this.chat.currentRoomSubject.subscribe(t=>{this.room=t,t||this.router.navigate(["/"])}),this.usersSubscription=this.chat.roomUsersSubject.subscribe(t=>{this.roomUsers=t}),this.messagesSubscription=this.chat.chatMessagesSubject.subscribe(t=>{this.chatMessages=t}),this.chat.getRoomUsers(),this.chat.getCurrentRoom(),this.chat.getRoomMessages()}ngOnDestroy(){this.roomSubscription.unsubscribe(),this.usersSubscription.unsubscribe(),this.messagesSubscription.unsubscribe(),this.router.navigate(["/"])}onSubmitMessage(){this.chat.sendMessage(this.chatForm.value.inputMessage),this.chatForm.reset(),setTimeout(()=>{this.chatBox.nativeElement.scrollTop=this.chatBox.nativeElement.scrollHeight},150)}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(n.a),c.Mb(i.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-chat"]],viewQuery:function(t,e){var s;1&t&&c.Bc(l,!0),2&t&&c.mc(s=c.ac())&&(e.chatBox=s.first)},decls:16,vars:4,consts:[[1,"chat-main"],[1,"chat-info"],[4,"ngFor","ngForOf"],[1,"chat-container"],[1,"chat-box"],["chatBox",""],["class","chat-bubble",4,"ngFor","ngForOf"],[1,"chat-input"],[3,"formGroup"],[1,"form-field"],["matInput","","formControlName","inputMessage","type","text"],["mat-raised-button","","color","primary",3,"click"],[1,"chat-bubble"],[1,"chat-bubble-header"],[1,"chat-bubble-text"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"h1"),c.yc(3),c.Rb(),c.Sb(4,"mat-action-list"),c.xc(5,m,2,1,"mat-list-item",2),c.Rb(),c.Rb(),c.Sb(6,"div",3),c.Sb(7,"div",4,5),c.xc(9,p,5,2,"div",6),c.Rb(),c.Sb(10,"div",7),c.Sb(11,"form",8),c.Sb(12,"mat-form-field",9),c.Nb(13,"input",10),c.Rb(),c.Sb(14,"button",11),c.Zb("click",function(){return e.onSubmitMessage()}),c.yc(15," Submit "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&t&&(c.Bb(3),c.zc(e.room),c.Bb(2),c.ic("ngForOf",e.roomUsers),c.Bb(4),c.ic("ngForOf",e.chatMessages),c.Bb(2),c.ic("formGroup",e.chatForm))},directives:[a.a,o.j,r.p,r.l,r.g,b.b,u.b,r.c,r.k,r.e,h.a,a.b],styles:[".chat-main[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(5,1fr);grid-column-gap:0;grid-row-gap:0;height:93vh}.chat-info[_ngcontent-%COMP%]{grid-area:1/1/6/2;border-right:1px solid #2d3436;background-color:#dfe6e9}.chat-container[_ngcontent-%COMP%]{grid-area:1/2/6/6}.chat-box[_ngcontent-%COMP%]{height:78vh;background-color:#b2bec3;padding:16px;overflow-y:scroll}.chat-bubble[_ngcontent-%COMP%]{padding:8px;border-radius:16px;border:1px solid #2d3436;background:#0984e3;margin-bottom:8px}"]}),t})()}];let d=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[o.c,i.b.forChild(g)],i.b]}),t})();var f=s("FpXt");let S=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[o.c,d,f.a]]}),t})()}}]);