(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{CgF7:function(t,e,s){"use strict";s.r(e),s.d(e,"ChatModule",function(){return S});var o=s("ofXK"),i=s("tyNb"),c=s("3Pt+"),n=s("fXoL"),r=s("sjK5"),a=s("MutI"),b=s("kmnG"),u=s("qFsG"),h=s("bTqV");const l=["chatBox"];function m(t,e){if(1&t&&(n.Sb(0,"mat-list-item"),n.yc(1),n.Rb()),2&t){const t=e.$implicit;n.Bb(1),n.zc(null==t?null:t.username)}}function p(t,e){if(1&t&&(n.Sb(0,"div",12),n.Sb(1,"h5",13),n.yc(2),n.Rb(),n.Sb(3,"div",14),n.yc(4),n.Rb(),n.Rb()),2&t){const t=e.$implicit;n.Bb(2),n.zc(null==t?null:t.user),n.Bb(2),n.Ac(" ",null==t?null:t.content," ")}}const g=[{path:"",component:(()=>{class t{constructor(t,e){this.chat=t,this.router=e,this.chatForm=new c.f({inputMessage:new c.d(null)})}ngOnInit(){this.roomSubscription=this.chat.currentRoomSubject.subscribe(t=>{this.room=t,t||this.router.navigate(["/"])}),this.usersSubscription=this.chat.roomUsersSubject.subscribe(t=>{this.roomUsers=t}),this.messagesSubscription=this.chat.chatMessagesSubject.subscribe(t=>{this.chatMessages=t}),this.chat.getRoomUsers(),this.chat.getCurrentRoom(),this.chat.getRoomMessages()}ngOnDestroy(){this.roomSubscription.unsubscribe(),this.usersSubscription.unsubscribe(),this.messagesSubscription.unsubscribe()}onSubmitMessage(){this.chat.sendMessage(this.chatForm.value.inputMessage),this.chatForm.reset(),setTimeout(()=>{this.chatBox.nativeElement.scrollTop=this.chatBox.nativeElement.scrollHeight},150)}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(r.a),n.Mb(i.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-chat"]],viewQuery:function(t,e){var s;1&t&&n.Bc(l,!0),2&t&&n.mc(s=n.ac())&&(e.chatBox=s.first)},decls:16,vars:4,consts:[[1,"chat-main"],[1,"chat-info"],[4,"ngFor","ngForOf"],[1,"chat-container"],[1,"chat-box"],["chatBox",""],["class","chat-bubble",4,"ngFor","ngForOf"],[1,"chat-input"],[3,"formGroup"],[1,"form-field"],["matInput","","formControlName","inputMessage","type","text"],["mat-raised-button","","color","primary",3,"click"],[1,"chat-bubble"],[1,"chat-bubble-header"],[1,"chat-bubble-text"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Sb(2,"h1"),n.yc(3),n.Rb(),n.Sb(4,"mat-action-list"),n.xc(5,m,2,1,"mat-list-item",2),n.Rb(),n.Rb(),n.Sb(6,"div",3),n.Sb(7,"div",4,5),n.xc(9,p,5,2,"div",6),n.Rb(),n.Sb(10,"div",7),n.Sb(11,"form",8),n.Sb(12,"mat-form-field",9),n.Nb(13,"input",10),n.Rb(),n.Sb(14,"button",11),n.Zb("click",function(){return e.onSubmitMessage()}),n.yc(15," Submit "),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&t&&(n.Bb(3),n.zc(e.room),n.Bb(2),n.ic("ngForOf",e.roomUsers),n.Bb(4),n.ic("ngForOf",e.chatMessages),n.Bb(2),n.ic("formGroup",e.chatForm))},directives:[a.a,o.j,c.p,c.l,c.g,b.b,u.b,c.c,c.k,c.e,h.a,a.b],styles:[".chat-main[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(5,1fr);grid-column-gap:0;grid-row-gap:0;height:93vh}.chat-info[_ngcontent-%COMP%]{grid-area:1/1/6/2;border-right:1px solid #2d3436;background-color:#dfe6e9}.chat-container[_ngcontent-%COMP%]{grid-area:1/2/6/6}.chat-box[_ngcontent-%COMP%]{height:78vh;background-color:#b2bec3;padding:16px;overflow-y:scroll}.chat-bubble[_ngcontent-%COMP%]{padding:8px;border-radius:16px;border:1px solid #2d3436;background:#0984e3;margin-bottom:8px}"]}),t})()}];let d=(()=>{class t{}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[o.c,i.b.forChild(g)],i.b]}),t})();var f=s("FpXt");let S=(()=>{class t{}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[o.c,d,f.a]]}),t})()}}]);